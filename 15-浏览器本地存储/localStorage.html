<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>localStorage</title>
</head>

<body>
  <h2>locaStorage</h2>
  <button onclick="saveData()">点我保存一个数据</button>
  <button onclick="readData()">点我读取一个数据</button>
  <button onclick="delData()">点我删除一个数据</button>
  <button onclick="clearData()">点我清空数据</button>
</body>
<script>
  // 声明一个变量
  let p = { name: "张三", age: "18" }

  //本地存储一个数据
  function saveData() {
    // 往本地存储一个值，setItme(key,val)
    window.localStorage.setItem("msg", "hello")
    window.localStorage.setItem("msg2", "666")
    // 因为本地存储为字符串，所以把对象存储到本地时，注意转换成JSON字符串
    localStorage.setItem('person', JSON.stringify(p))
  };

  // 读取本地数据
  function readData() {
    console.log(localStorage.getItem("msg"));
    console.log(localStorage.getItem("msg2"));
    //此为读取存储到本地的对象，注意如果是存储的为JSON字符串，读取时需要用JSON.parse重新转义成obj对象
    console.log(JSON.parse(localStorage.getItem("person")));
  };

  // 删除本地数据
  function delData() {
    localStorage.removeItem("msg")
  }

  //清空本地数据
  function clearData() {
    localStorage.clear()
  }
</script>

</html>